<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>linear.Surface.Surface</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Keyword">module</a> <a id="8" href="linear.Surface.Surface.html" class="Module">linear.Surface.Surface</a> <a id="31" class="Keyword">where</a>

<a id="38" class="Keyword">open</a> <a id="43" class="Keyword">import</a> <a id="50" href="Data.Maybe.html" class="Module">Data.Maybe</a>
<a id="61" class="Keyword">open</a> <a id="66" class="Keyword">import</a> <a id="73" href="Data.String.html" class="Module">Data.String</a> <a id="85" class="Keyword">using</a> <a id="91" class="Symbol">(</a><a id="92" href="Agda.Builtin.String.html#String" class="Postulate">String</a><a id="98" class="Symbol">)</a>
<a id="100" class="Keyword">open</a> <a id="105" class="Keyword">import</a> <a id="112" href="Data.Product.html" class="Module">Data.Product</a>
<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Sum.html" class="Module">Data.Sum</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="Data.Fin.html" class="Module">Data.Fin</a>
<a id="188" class="Keyword">open</a> <a id="193" class="Keyword">import</a> <a id="200" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="209" class="Keyword">hiding</a> <a id="216" class="Symbol">(</a><a id="217" href="Data.Vec.html#%5B_%5D" class="Function Operator">[_]</a> <a id="221" class="Symbol">;</a> <a id="223" href="Data.Vec.html#_%E2%8A%9B_" class="Function Operator">_⊛_</a> <a id="227" class="Symbol">;</a> <a id="229" href="Data.Vec.html#_%3E%3E%3D_" class="Function Operator">_&gt;&gt;=_</a><a id="234" class="Symbol">)</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="259" class="Keyword">open</a> <a id="264" class="Keyword">import</a> <a id="271" href="Function.html" class="Module">Function</a>
<a id="280" class="Keyword">open</a> <a id="285" class="Keyword">import</a> <a id="292" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="359" class="Keyword">hiding</a> <a id="366" class="Symbol">(</a><a id="367" href="Relation.Binary.PropositionalEquality.html#Reveal_%C2%B7_is_.%5B_%5D" class="InductiveConstructor Operator">[_]</a><a id="370" class="Symbol">)</a>

<a id="373" class="Keyword">open</a> <a id="378" class="Keyword">import</a> <a id="385" href="linear.Type.html" class="Module">linear.Type</a>

<a id="398" class="Symbol">{-#</a> <a id="402" class="Keyword">FOREIGN</a> GHC import qualified Type.Parser    <a id="446" class="Symbol">#-}</a>
<a id="450" class="Symbol">{-#</a> <a id="454" class="Keyword">FOREIGN</a> GHC import qualified Surface.Parser <a id="498" class="Symbol">#-}</a>

<a id="503" class="Keyword">data</a> <a id="Pattern" href="linear.Surface.Surface.html#Pattern" class="Datatype">Pattern</a> <a id="516" class="Symbol">:</a> <a id="518" class="PrimitiveType">Set</a> <a id="522" class="Keyword">where</a>
  <a id="Pattern.`v" href="linear.Surface.Surface.html#Pattern.%60v" class="InductiveConstructor">`v</a>   <a id="535" class="Symbol">:</a> <a id="537" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="544" class="Symbol">→</a> <a id="546" href="linear.Surface.Surface.html#Pattern" class="Datatype">Pattern</a>
  <a id="Pattern.`⟨⟩" href="linear.Surface.Surface.html#Pattern.%60%E2%9F%A8%E2%9F%A9" class="InductiveConstructor">`⟨⟩</a>  <a id="561" class="Symbol">:</a> <a id="563" href="linear.Surface.Surface.html#Pattern" class="Datatype">Pattern</a>
  <a id="Pattern._,,_" href="linear.Surface.Surface.html#Pattern._%2C%2C_" class="InductiveConstructor Operator">_,,_</a> <a id="578" class="Symbol">:</a> <a id="580" class="Symbol">(</a><a id="581" href="linear.Surface.Surface.html#581" class="Bound">p</a> <a id="583" href="linear.Surface.Surface.html#583" class="Bound">q</a> <a id="585" class="Symbol">:</a> <a id="587" href="linear.Surface.Surface.html#Pattern" class="Datatype">Pattern</a><a id="594" class="Symbol">)</a> <a id="596" class="Symbol">→</a> <a id="598" href="linear.Surface.Surface.html#Pattern" class="Datatype">Pattern</a>

<a id="607" class="Keyword">data</a> <a id="RPattern" href="linear.Surface.Surface.html#RPattern" class="Datatype">RPattern</a> <a id="621" class="Symbol">:</a> <a id="623" class="PrimitiveType">Set</a> <a id="627" class="Keyword">where</a>
  <a id="RPattern.RAll" href="linear.Surface.Surface.html#RPattern.RAll" class="InductiveConstructor">RAll</a> <a id="640" class="Symbol">:</a> <a id="642" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="649" class="Symbol">→</a> <a id="651" href="linear.Surface.Surface.html#RPattern" class="Datatype">RPattern</a>
  <a id="RPattern.RUni" href="linear.Surface.Surface.html#RPattern.RUni" class="InductiveConstructor">RUni</a> <a id="667" class="Symbol">:</a> <a id="669" href="linear.Surface.Surface.html#RPattern" class="Datatype">RPattern</a>
  <a id="RPattern.RAnd" href="linear.Surface.Surface.html#RPattern.RAnd" class="InductiveConstructor">RAnd</a> <a id="685" class="Symbol">:</a> <a id="687" href="linear.Surface.Surface.html#RPattern" class="Datatype">RPattern</a> <a id="696" class="Symbol">→</a> <a id="698" href="linear.Surface.Surface.html#RPattern" class="Datatype">RPattern</a> <a id="707" class="Symbol">→</a> <a id="709" href="linear.Surface.Surface.html#RPattern" class="Datatype">RPattern</a>

<a id="719" class="Symbol">{-#</a> <a id="723" class="Keyword">COMPILE</a> GHC <a id="735" href="linear.Surface.Surface.html#RPattern" class="Datatype">RPattern</a>
    = data Surface.Parser.Pattern
    (Surface.Parser.All
    | Surface.Parser.Uni
    | Surface.Parser.And)
<a id="853" class="Symbol">#-}</a>

<a id="embed^RPattern" href="linear.Surface.Surface.html#embed%5ERPattern" class="Function">embed^RPattern</a> <a id="873" class="Symbol">:</a> <a id="875" href="linear.Surface.Surface.html#RPattern" class="Datatype">RPattern</a> <a id="884" class="Symbol">→</a> <a id="886" href="linear.Surface.Surface.html#Pattern" class="Datatype">Pattern</a>
<a id="894" href="linear.Surface.Surface.html#embed%5ERPattern" class="Function">embed^RPattern</a> <a id="909" class="Symbol">(</a><a id="910" href="linear.Surface.Surface.html#RPattern.RAll" class="InductiveConstructor">RAll</a> <a id="915" href="linear.Surface.Surface.html#915" class="Bound">x</a><a id="916" class="Symbol">)</a> <a id="918" class="Symbol">=</a> <a id="920" href="linear.Surface.Surface.html#Pattern.%60v" class="InductiveConstructor">`v</a> <a id="923" href="linear.Surface.Surface.html#915" class="Bound">x</a>
<a id="925" href="linear.Surface.Surface.html#embed%5ERPattern" class="Function">embed^RPattern</a> <a id="940" href="linear.Surface.Surface.html#RPattern.RUni" class="InductiveConstructor">RUni</a> <a id="945" class="Symbol">=</a> <a id="947" href="linear.Surface.Surface.html#Pattern.%60%E2%9F%A8%E2%9F%A9" class="InductiveConstructor">`⟨⟩</a>
<a id="951" href="linear.Surface.Surface.html#embed%5ERPattern" class="Function">embed^RPattern</a> <a id="966" class="Symbol">(</a><a id="967" href="linear.Surface.Surface.html#RPattern.RAnd" class="InductiveConstructor">RAnd</a> <a id="972" href="linear.Surface.Surface.html#972" class="Bound">x</a> <a id="974" href="linear.Surface.Surface.html#974" class="Bound">x₁</a><a id="976" class="Symbol">)</a> <a id="978" class="Symbol">=</a> <a id="980" href="linear.Surface.Surface.html#embed%5ERPattern" class="Function">embed^RPattern</a> <a id="995" href="linear.Surface.Surface.html#972" class="Bound">x</a> <a id="997" href="linear.Surface.Surface.html#Pattern._%2C%2C_" class="InductiveConstructor Operator">,,</a> <a id="1000" href="linear.Surface.Surface.html#embed%5ERPattern" class="Function">embed^RPattern</a> <a id="1015" href="linear.Surface.Surface.html#974" class="Bound">x₁</a>

<a id="1019" class="Keyword">mutual</a>

  <a id="1029" class="Keyword">data</a> <a id="Check" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1040" class="Symbol">:</a> <a id="1042" class="PrimitiveType">Set</a> <a id="1046" class="Keyword">where</a>
    <a id="Check.`lam_↦_" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">`lam_↦_</a>      <a id="1069" class="Symbol">:</a> <a id="1071" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="1078" class="Symbol">→</a> <a id="1080" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1086" class="Symbol">→</a> <a id="1088" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
    <a id="Check.`let_∷=_`in_" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">`let_∷=_`in_</a> <a id="1111" class="Symbol">:</a> <a id="1113" href="linear.Surface.Surface.html#Pattern" class="Datatype">Pattern</a> <a id="1121" class="Symbol">→</a> <a id="1123" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a> <a id="1129" class="Symbol">→</a> <a id="1131" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1137" class="Symbol">→</a> <a id="1139" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
    <a id="Check.`unit" href="linear.Surface.Surface.html#Check.%60unit" class="InductiveConstructor">`unit</a>        <a id="1162" class="Symbol">:</a> <a id="1164" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
    <a id="Check.`prd" href="linear.Surface.Surface.html#Check.%60prd" class="InductiveConstructor">`prd</a>         <a id="1187" class="Symbol">:</a> <a id="1189" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1195" class="Symbol">→</a> <a id="1197" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1203" class="Symbol">→</a> <a id="1205" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
    <a id="Check.`inl_" href="linear.Surface.Surface.html#Check.%60inl_" class="InductiveConstructor Operator">`inl_</a>        <a id="1228" class="Symbol">:</a> <a id="1230" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1236" class="Symbol">→</a> <a id="1238" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
    <a id="Check.`inr_" href="linear.Surface.Surface.html#Check.%60inr_" class="InductiveConstructor Operator">`inr_</a>        <a id="1261" class="Symbol">:</a> <a id="1263" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1269" class="Symbol">→</a> <a id="1271" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
    <a id="Check.`neu_" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu_</a>        <a id="1294" class="Symbol">:</a> <a id="1296" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a> <a id="1302" class="Symbol">→</a> <a id="1304" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>

  <a id="1313" class="Keyword">data</a> <a id="Infer" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a> <a id="1324" class="Symbol">:</a> <a id="1326" class="PrimitiveType">Set</a> <a id="1330" class="Keyword">where</a>
    <a id="Infer.`var" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a>                    <a id="1364" class="Symbol">:</a> <a id="1366" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="1373" class="Symbol">→</a> <a id="1375" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a>
    <a id="Infer.`app" href="linear.Surface.Surface.html#Infer.%60app" class="InductiveConstructor">`app</a>                    <a id="1409" class="Symbol">:</a> <a id="1411" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a> <a id="1417" class="Symbol">→</a> <a id="1419" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1425" class="Symbol">→</a> <a id="1427" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a>
    <a id="Infer.`fst" href="linear.Surface.Surface.html#Infer.%60fst" class="InductiveConstructor">`fst</a> <a id="Infer.`snd" href="linear.Surface.Surface.html#Infer.%60snd" class="InductiveConstructor">`snd</a>               <a id="1461" class="Symbol">:</a> <a id="1463" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a> <a id="1469" class="Symbol">→</a> <a id="1471" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a>
    <a id="Infer.`case_return_of_↦_%%_↦_" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">`case_return_of_↦_%%_↦_</a> <a id="1505" class="Symbol">:</a> <a id="1507" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a> <a id="1513" class="Symbol">→</a> <a id="1515" href="linear.Type.html#Type" class="Datatype">Type</a> <a id="1520" class="Symbol">→</a> <a id="1522" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="1529" class="Symbol">→</a> <a id="1531" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1537" class="Symbol">→</a> <a id="1539" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="1546" class="Symbol">→</a> <a id="1548" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1554" class="Symbol">→</a> <a id="1556" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a>
    <a id="Infer.`exfalso" href="linear.Surface.Surface.html#Infer.%60exfalso" class="InductiveConstructor">`exfalso</a>                <a id="1590" class="Symbol">:</a> <a id="1592" href="linear.Type.html#Type" class="Datatype">Type</a> <a id="1597" class="Symbol">→</a> <a id="1599" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a> <a id="1605" class="Symbol">→</a> <a id="1607" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a>
    <a id="Infer.`cut" href="linear.Surface.Surface.html#Infer.%60cut" class="InductiveConstructor">`cut</a>                    <a id="1641" class="Symbol">:</a> <a id="1643" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="1649" class="Symbol">→</a> <a id="1651" href="linear.Type.html#Type" class="Datatype">Type</a> <a id="1656" class="Symbol">→</a> <a id="1658" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a>

<a id="1665" class="Keyword">data</a> <a id="RCheck" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="1677" class="Symbol">:</a> <a id="1679" class="PrimitiveType">Set</a>
<a id="1683" class="Keyword">data</a> <a id="RInfer" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a> <a id="1695" class="Symbol">:</a> <a id="1697" class="PrimitiveType">Set</a>

<a id="1702" class="Keyword">data</a> <a id="1707" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="1714" class="Keyword">where</a>
  <a id="RCheck.Lam" href="linear.Surface.Surface.html#RCheck.Lam" class="InductiveConstructor">Lam</a>     <a id="1730" class="Symbol">:</a> <a id="1732" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="1739" class="Symbol">→</a> <a id="1741" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="1748" class="Symbol">→</a> <a id="1750" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a>
  <a id="RCheck.Let" href="linear.Surface.Surface.html#RCheck.Let" class="InductiveConstructor">Let</a>     <a id="1767" class="Symbol">:</a> <a id="1769" href="linear.Surface.Surface.html#RPattern" class="Datatype">RPattern</a> <a id="1778" class="Symbol">→</a> <a id="1780" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a> <a id="1787" class="Symbol">→</a> <a id="1789" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="1796" class="Symbol">→</a> <a id="1798" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a>
  <a id="RCheck.One" href="linear.Surface.Surface.html#RCheck.One" class="InductiveConstructor">One</a>     <a id="1815" class="Symbol">:</a> <a id="1817" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a>
  <a id="RCheck.Prd" href="linear.Surface.Surface.html#RCheck.Prd" class="InductiveConstructor">Prd</a>     <a id="1834" class="Symbol">:</a> <a id="1836" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="1843" class="Symbol">→</a> <a id="1845" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="1852" class="Symbol">→</a> <a id="1854" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a>
  <a id="RCheck.Inl" href="linear.Surface.Surface.html#RCheck.Inl" class="InductiveConstructor">Inl</a> <a id="RCheck.Inr" href="linear.Surface.Surface.html#RCheck.Inr" class="InductiveConstructor">Inr</a> <a id="1871" class="Symbol">:</a> <a id="1873" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="1880" class="Symbol">→</a> <a id="1882" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a>
  <a id="RCheck.Neu" href="linear.Surface.Surface.html#RCheck.Neu" class="InductiveConstructor">Neu</a>     <a id="1899" class="Symbol">:</a> <a id="1901" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a> <a id="1908" class="Symbol">→</a> <a id="1910" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a>

<a id="1918" class="Symbol">{-#</a> <a id="1922" class="Keyword">COMPILE</a> GHC <a id="1934" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a>
    = data Surface.Parser.Check
    (Surface.Parser.Lam
    | Surface.Parser.Let
    | Surface.Parser.One
    | Surface.Parser.Prd
    | Surface.Parser.Inl
    | Surface.Parser.Inr
    | Surface.Parser.Neu)
 <a id="2149" class="Symbol">#-}</a>

<a id="2154" class="Keyword">data</a> <a id="2159" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a> <a id="2166" class="Keyword">where</a>
  <a id="RInfer.Var" href="linear.Surface.Surface.html#RInfer.Var" class="InductiveConstructor">Var</a>     <a id="2182" class="Symbol">:</a> <a id="2184" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="2191" class="Symbol">→</a> <a id="2193" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a>
  <a id="RInfer.App" href="linear.Surface.Surface.html#RInfer.App" class="InductiveConstructor">App</a>     <a id="2210" class="Symbol">:</a> <a id="2212" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a> <a id="2219" class="Symbol">→</a> <a id="2221" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="2228" class="Symbol">→</a> <a id="2230" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a>
  <a id="RInfer.Fst" href="linear.Surface.Surface.html#RInfer.Fst" class="InductiveConstructor">Fst</a> <a id="RInfer.Snd" href="linear.Surface.Surface.html#RInfer.Snd" class="InductiveConstructor">Snd</a> <a id="2247" class="Symbol">:</a> <a id="2249" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a> <a id="2256" class="Symbol">→</a> <a id="2258" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a>
  <a id="RInfer.Cas" href="linear.Surface.Surface.html#RInfer.Cas" class="InductiveConstructor">Cas</a>     <a id="2275" class="Symbol">:</a> <a id="2277" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a> <a id="2284" class="Symbol">→</a> <a id="2286" href="linear.Type.html#RType" class="Datatype">RType</a> <a id="2292" class="Symbol">→</a> <a id="2294" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="2301" class="Symbol">→</a> <a id="2303" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="2310" class="Symbol">→</a> <a id="2312" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="2319" class="Symbol">→</a> <a id="2321" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="2328" class="Symbol">→</a> <a id="2330" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a>
  <a id="RInfer.ExF" href="linear.Surface.Surface.html#RInfer.ExF" class="InductiveConstructor">ExF</a>     <a id="2347" class="Symbol">:</a> <a id="2349" href="linear.Type.html#RType" class="Datatype">RType</a> <a id="2355" class="Symbol">→</a> <a id="2357" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a> <a id="2364" class="Symbol">→</a> <a id="2366" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a>
  <a id="RInfer.Cut" href="linear.Surface.Surface.html#RInfer.Cut" class="InductiveConstructor">Cut</a>     <a id="2383" class="Symbol">:</a> <a id="2385" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="2392" class="Symbol">→</a> <a id="2394" href="linear.Type.html#RType" class="Datatype">RType</a> <a id="2400" class="Symbol">→</a> <a id="2402" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a>

<a id="2410" class="Symbol">{-#</a> <a id="2414" class="Keyword">COMPILE</a> GHC <a id="2426" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a>
    = data Surface.Parser.Infer
    (Surface.Parser.Var
    | Surface.Parser.App
    | Surface.Parser.Fst
    | Surface.Parser.Snd
    | Surface.Parser.Cas
    | Surface.Parser.ExF
    | Surface.Parser.Cut)
<a id="2640" class="Symbol">#-}</a>

<a id="embed^RCheck" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2658" class="Symbol">:</a> <a id="2660" href="linear.Surface.Surface.html#RCheck" class="Datatype">RCheck</a> <a id="2667" class="Symbol">→</a> <a id="2669" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
<a id="embed^RInfer" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="2688" class="Symbol">:</a> <a id="2690" href="linear.Surface.Surface.html#RInfer" class="Datatype">RInfer</a> <a id="2697" class="Symbol">→</a> <a id="2699" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a>


<a id="2707" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2720" class="Symbol">(</a><a id="2721" href="linear.Surface.Surface.html#RCheck.Lam" class="InductiveConstructor">Lam</a> <a id="2725" href="linear.Surface.Surface.html#2725" class="Bound">x</a> <a id="2727" href="linear.Surface.Surface.html#2727" class="Bound">x₁</a><a id="2729" class="Symbol">)</a> <a id="2731" class="Symbol">=</a> <a id="2733" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">`lam</a> <a id="2738" href="linear.Surface.Surface.html#2725" class="Bound">x</a> <a id="2740" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">↦</a> <a id="2742" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2755" href="linear.Surface.Surface.html#2727" class="Bound">x₁</a>
<a id="2758" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2771" class="Symbol">(</a><a id="2772" href="linear.Surface.Surface.html#RCheck.Let" class="InductiveConstructor">Let</a> <a id="2776" href="linear.Surface.Surface.html#2776" class="Bound">x</a> <a id="2778" href="linear.Surface.Surface.html#2778" class="Bound">x₁</a> <a id="2781" href="linear.Surface.Surface.html#2781" class="Bound">x₂</a><a id="2783" class="Symbol">)</a> <a id="2785" class="Symbol">=</a> <a id="2787" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">`let</a> <a id="2792" href="linear.Surface.Surface.html#embed%5ERPattern" class="Function">embed^RPattern</a> <a id="2807" href="linear.Surface.Surface.html#2776" class="Bound">x</a> <a id="2809" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">∷=</a> <a id="2812" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="2825" href="linear.Surface.Surface.html#2778" class="Bound">x₁</a> <a id="2828" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">`in</a> <a id="2832" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2845" href="linear.Surface.Surface.html#2781" class="Bound">x₂</a>
<a id="2848" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2861" href="linear.Surface.Surface.html#RCheck.One" class="InductiveConstructor">One</a> <a id="2865" class="Symbol">=</a> <a id="2867" href="linear.Surface.Surface.html#Check.%60unit" class="InductiveConstructor">`unit</a>
<a id="2873" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2886" class="Symbol">(</a><a id="2887" href="linear.Surface.Surface.html#RCheck.Prd" class="InductiveConstructor">Prd</a> <a id="2891" href="linear.Surface.Surface.html#2891" class="Bound">x</a> <a id="2893" href="linear.Surface.Surface.html#2893" class="Bound">x₁</a><a id="2895" class="Symbol">)</a> <a id="2897" class="Symbol">=</a> <a id="2899" href="linear.Surface.Surface.html#Check.%60prd" class="InductiveConstructor">`prd</a> <a id="2904" class="Symbol">(</a><a id="2905" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2918" href="linear.Surface.Surface.html#2891" class="Bound">x</a><a id="2919" class="Symbol">)</a> <a id="2921" class="Symbol">(</a><a id="2922" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2935" href="linear.Surface.Surface.html#2893" class="Bound">x₁</a><a id="2937" class="Symbol">)</a>
<a id="2939" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2952" class="Symbol">(</a><a id="2953" href="linear.Surface.Surface.html#RCheck.Inl" class="InductiveConstructor">Inl</a> <a id="2957" href="linear.Surface.Surface.html#2957" class="Bound">x</a><a id="2958" class="Symbol">)</a> <a id="2960" class="Symbol">=</a> <a id="2962" href="linear.Surface.Surface.html#Check.%60inl_" class="InductiveConstructor Operator">`inl</a> <a id="2967" class="Symbol">(</a><a id="2968" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2981" href="linear.Surface.Surface.html#2957" class="Bound">x</a><a id="2982" class="Symbol">)</a>
<a id="2984" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="2997" class="Symbol">(</a><a id="2998" href="linear.Surface.Surface.html#RCheck.Inr" class="InductiveConstructor">Inr</a> <a id="3002" href="linear.Surface.Surface.html#3002" class="Bound">x</a><a id="3003" class="Symbol">)</a> <a id="3005" class="Symbol">=</a> <a id="3007" href="linear.Surface.Surface.html#Check.%60inr_" class="InductiveConstructor Operator">`inr</a> <a id="3012" class="Symbol">(</a><a id="3013" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="3026" href="linear.Surface.Surface.html#3002" class="Bound">x</a><a id="3027" class="Symbol">)</a>
<a id="3029" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="3042" class="Symbol">(</a><a id="3043" href="linear.Surface.Surface.html#RCheck.Neu" class="InductiveConstructor">Neu</a> <a id="3047" href="linear.Surface.Surface.html#3047" class="Bound">x</a><a id="3048" class="Symbol">)</a> <a id="3050" class="Symbol">=</a> <a id="3052" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu</a> <a id="3057" class="Symbol">(</a><a id="3058" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3071" href="linear.Surface.Surface.html#3047" class="Bound">x</a><a id="3072" class="Symbol">)</a>

<a id="3075" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3088" class="Symbol">(</a><a id="3089" href="linear.Surface.Surface.html#RInfer.Var" class="InductiveConstructor">Var</a> <a id="3093" href="linear.Surface.Surface.html#3093" class="Bound">x</a><a id="3094" class="Symbol">)</a> <a id="3096" class="Symbol">=</a> <a id="3098" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="3103" href="linear.Surface.Surface.html#3093" class="Bound">x</a>
<a id="3105" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3118" class="Symbol">(</a><a id="3119" href="linear.Surface.Surface.html#RInfer.App" class="InductiveConstructor">App</a> <a id="3123" href="linear.Surface.Surface.html#3123" class="Bound">x</a> <a id="3125" href="linear.Surface.Surface.html#3125" class="Bound">x₁</a><a id="3127" class="Symbol">)</a> <a id="3129" class="Symbol">=</a> <a id="3131" href="linear.Surface.Surface.html#Infer.%60app" class="InductiveConstructor">`app</a> <a id="3136" class="Symbol">(</a><a id="3137" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3150" href="linear.Surface.Surface.html#3123" class="Bound">x</a><a id="3151" class="Symbol">)</a> <a id="3153" class="Symbol">(</a><a id="3154" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="3167" href="linear.Surface.Surface.html#3125" class="Bound">x₁</a><a id="3169" class="Symbol">)</a>
<a id="3171" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3184" class="Symbol">(</a><a id="3185" href="linear.Surface.Surface.html#RInfer.Fst" class="InductiveConstructor">Fst</a> <a id="3189" href="linear.Surface.Surface.html#3189" class="Bound">x</a><a id="3190" class="Symbol">)</a> <a id="3192" class="Symbol">=</a> <a id="3194" href="linear.Surface.Surface.html#Infer.%60fst" class="InductiveConstructor">`fst</a>  <a id="3200" class="Symbol">(</a><a id="3201" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3214" href="linear.Surface.Surface.html#3189" class="Bound">x</a><a id="3215" class="Symbol">)</a>
<a id="3217" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3230" class="Symbol">(</a><a id="3231" href="linear.Surface.Surface.html#RInfer.Snd" class="InductiveConstructor">Snd</a> <a id="3235" href="linear.Surface.Surface.html#3235" class="Bound">x</a><a id="3236" class="Symbol">)</a> <a id="3238" class="Symbol">=</a> <a id="3240" href="linear.Surface.Surface.html#Infer.%60snd" class="InductiveConstructor">`snd</a>  <a id="3246" class="Symbol">(</a><a id="3247" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3260" href="linear.Surface.Surface.html#3235" class="Bound">x</a><a id="3261" class="Symbol">)</a>
<a id="3263" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3276" class="Symbol">(</a><a id="3277" href="linear.Surface.Surface.html#RInfer.Cas" class="InductiveConstructor">Cas</a> <a id="3281" href="linear.Surface.Surface.html#3281" class="Bound">x</a> <a id="3283" href="linear.Surface.Surface.html#3283" class="Bound">x₁</a> <a id="3286" href="linear.Surface.Surface.html#3286" class="Bound">x₂</a> <a id="3289" href="linear.Surface.Surface.html#3289" class="Bound">x₃</a> <a id="3292" href="linear.Surface.Surface.html#3292" class="Bound">x₄</a> <a id="3295" href="linear.Surface.Surface.html#3295" class="Bound">x₅</a><a id="3297" class="Symbol">)</a> <a id="3299" class="Symbol">=</a> <a id="3301" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">`case</a> <a id="3307" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3320" href="linear.Surface.Surface.html#3281" class="Bound">x</a> <a id="3322" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">return</a> <a id="3329" href="linear.Type.html#embed%5ERType" class="Function">embed^RType</a> <a id="3341" href="linear.Surface.Surface.html#3283" class="Bound">x₁</a> <a id="3344" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">of</a> <a id="3347" href="linear.Surface.Surface.html#3286" class="Bound">x₂</a> <a id="3350" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">↦</a> <a id="3352" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="3365" href="linear.Surface.Surface.html#3289" class="Bound">x₃</a> <a id="3368" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">%%</a> <a id="3371" href="linear.Surface.Surface.html#3292" class="Bound">x₄</a> <a id="3374" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">↦</a> <a id="3376" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="3389" href="linear.Surface.Surface.html#3295" class="Bound">x₅</a>
<a id="3392" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3405" class="Symbol">(</a><a id="3406" href="linear.Surface.Surface.html#RInfer.ExF" class="InductiveConstructor">ExF</a> <a id="3410" href="linear.Surface.Surface.html#3410" class="Bound">x</a> <a id="3412" href="linear.Surface.Surface.html#3412" class="Bound">x₁</a><a id="3414" class="Symbol">)</a> <a id="3416" class="Symbol">=</a> <a id="3418" href="linear.Surface.Surface.html#Infer.%60exfalso" class="InductiveConstructor">`exfalso</a> <a id="3427" class="Symbol">(</a><a id="3428" href="linear.Type.html#embed%5ERType" class="Function">embed^RType</a> <a id="3440" href="linear.Surface.Surface.html#3410" class="Bound">x</a><a id="3441" class="Symbol">)</a> <a id="3443" class="Symbol">(</a><a id="3444" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3457" href="linear.Surface.Surface.html#3412" class="Bound">x₁</a><a id="3459" class="Symbol">)</a>
<a id="3461" href="linear.Surface.Surface.html#embed%5ERInfer" class="Function">embed^RInfer</a> <a id="3474" class="Symbol">(</a><a id="3475" href="linear.Surface.Surface.html#RInfer.Cut" class="InductiveConstructor">Cut</a> <a id="3479" href="linear.Surface.Surface.html#3479" class="Bound">x</a> <a id="3481" href="linear.Surface.Surface.html#3481" class="Bound">x₁</a><a id="3483" class="Symbol">)</a> <a id="3485" class="Symbol">=</a> <a id="3487" href="linear.Surface.Surface.html#Infer.%60cut" class="InductiveConstructor">`cut</a> <a id="3492" class="Symbol">(</a><a id="3493" href="linear.Surface.Surface.html#embed%5ERCheck" class="Function">embed^RCheck</a> <a id="3506" href="linear.Surface.Surface.html#3479" class="Bound">x</a><a id="3507" class="Symbol">)</a> <a id="3509" class="Symbol">(</a><a id="3510" href="linear.Type.html#embed%5ERType" class="Function">embed^RType</a> <a id="3522" href="linear.Surface.Surface.html#3481" class="Bound">x₁</a><a id="3524" class="Symbol">)</a>

<a id="3527" class="Comment">-- example:</a>

<a id="`swap⊗" href="linear.Surface.Surface.html#%60swap%E2%8A%97" class="Function">`swap⊗</a> <a id="3547" class="Symbol">:</a> <a id="3549" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
<a id="3555" href="linear.Surface.Surface.html#%60swap%E2%8A%97" class="Function">`swap⊗</a> <a id="3562" class="Symbol">=</a> <a id="3564" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">`lam</a> <a id="3569" class="String">&quot;pair&quot;</a> <a id="3576" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">↦</a>
         <a id="3587" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">`let</a> <a id="3592" href="linear.Surface.Surface.html#Pattern.%60v" class="InductiveConstructor">`v</a> <a id="3595" class="String">&quot;left&quot;</a> <a id="3602" href="linear.Surface.Surface.html#Pattern._%2C%2C_" class="InductiveConstructor Operator">,,</a> <a id="3605" href="linear.Surface.Surface.html#Pattern.%60v" class="InductiveConstructor">`v</a> <a id="3608" class="String">&quot;right&quot;</a> <a id="3616" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">∷=</a> <a id="3619" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="3624" class="String">&quot;pair&quot;</a>
         <a id="3640" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">`in</a> <a id="3644" href="linear.Surface.Surface.html#Check.%60prd" class="InductiveConstructor">`prd</a> <a id="3649" class="Symbol">(</a><a id="3650" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu</a> <a id="3655" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="3660" class="String">&quot;right&quot;</a><a id="3667" class="Symbol">)</a> <a id="3669" class="Symbol">(</a><a id="3670" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu</a> <a id="3675" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="3680" class="String">&quot;left&quot;</a><a id="3686" class="Symbol">)</a>

<a id="`swap⊕" href="linear.Surface.Surface.html#%60swap%E2%8A%95" class="Function">`swap⊕</a> <a id="3696" class="Symbol">:</a> <a id="3698" class="Symbol">(</a><a id="3699" href="linear.Surface.Surface.html#3699" class="Bound">σ</a> <a id="3701" href="linear.Surface.Surface.html#3701" class="Bound">τ</a> <a id="3703" class="Symbol">:</a> <a id="3705" href="linear.Type.html#Type" class="Datatype">Type</a><a id="3709" class="Symbol">)</a> <a id="3711" class="Symbol">→</a> <a id="3713" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
<a id="3719" href="linear.Surface.Surface.html#%60swap%E2%8A%95" class="Function">`swap⊕</a> <a id="3726" href="linear.Surface.Surface.html#3726" class="Bound">σ</a> <a id="3728" href="linear.Surface.Surface.html#3728" class="Bound">τ</a> <a id="3730" class="Symbol">=</a> <a id="3732" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">`lam</a> <a id="3737" class="String">&quot;sum&quot;</a> <a id="3743" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">↦</a> <a id="3745" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu</a>
             <a id="3763" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">`case</a> <a id="3769" class="Symbol">(</a><a id="3770" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="3775" class="String">&quot;sum&quot;</a><a id="3780" class="Symbol">)</a> <a id="3782" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">return</a> <a id="3789" href="linear.Surface.Surface.html#3728" class="Bound">τ</a> <a id="3791" href="linear.Type.html#Type._%E2%8A%95_" class="InductiveConstructor Operator">⊕</a> <a id="3793" href="linear.Surface.Surface.html#3726" class="Bound">σ</a>
             <a id="3808" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">of</a> <a id="3811" class="String">&quot;left&quot;</a>  <a id="3819" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">↦</a> <a id="3821" href="linear.Surface.Surface.html#Check.%60inr_" class="InductiveConstructor Operator">`inr</a> <a id="3826" class="Symbol">(</a><a id="3827" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu</a> <a id="3832" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="3837" class="String">&quot;left&quot;</a><a id="3843" class="Symbol">)</a>
             <a id="3858" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">%%</a> <a id="3861" class="String">&quot;right&quot;</a> <a id="3869" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">↦</a> <a id="3871" href="linear.Surface.Surface.html#Check.%60inl_" class="InductiveConstructor Operator">`inl</a> <a id="3876" class="Symbol">(</a><a id="3877" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu</a> <a id="3882" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="3887" class="String">&quot;right&quot;</a><a id="3894" class="Symbol">)</a>


<a id="`swap&amp;" href="linear.Surface.Surface.html#%60swap%26" class="Function">`swap&amp;</a> <a id="3905" class="Symbol">:</a> <a id="3907" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a>
<a id="3913" href="linear.Surface.Surface.html#%60swap%26" class="Function">`swap&amp;</a> <a id="3920" class="Symbol">=</a> <a id="3922" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">`lam</a> <a id="3927" class="String">&quot;pair&quot;</a> <a id="3934" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">↦</a>
         <a id="3945" href="linear.Surface.Surface.html#Check.%60prd" class="InductiveConstructor">`prd</a> <a id="3950" class="Symbol">(</a><a id="3951" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu</a> <a id="3956" class="Symbol">(</a><a id="3957" href="linear.Surface.Surface.html#Infer.%60snd" class="InductiveConstructor">`snd</a> <a id="3962" class="Symbol">(</a><a id="3963" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="3968" class="String">&quot;pair&quot;</a><a id="3974" class="Symbol">)))</a> <a id="3978" class="Symbol">(</a><a id="3979" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu</a> <a id="3984" class="Symbol">(</a><a id="3985" href="linear.Surface.Surface.html#Infer.%60fst" class="InductiveConstructor">`fst</a> <a id="3990" class="Symbol">(</a><a id="3991" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="3996" class="String">&quot;pair&quot;</a><a id="4002" class="Symbol">)))</a>



<a id="4009" class="Comment">-----------------------------------------------</a>
<a id="4057" class="Comment">-- Scope Checking</a>
<a id="4075" class="Comment">-----------------------------------------------</a>

<a id="4124" class="Keyword">infix</a> <a id="4130" class="Number">1</a> <a id="4132" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">_⁇_↝_</a>
<a id="4138" class="Keyword">data</a> <a id="_⁇_↝_" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">_⁇_↝_</a> <a id="4149" class="Symbol">{</a><a id="4150" href="linear.Surface.Surface.html#4150" class="Bound">A</a> <a id="4152" class="Symbol">:</a> <a id="4154" class="PrimitiveType">Set</a><a id="4157" class="Symbol">}</a> <a id="4159" class="Symbol">:</a> <a id="4161" class="Symbol">∀</a> <a id="4163" class="Symbol">{</a><a id="4164" href="linear.Surface.Surface.html#4164" class="Bound">n</a><a id="4165" class="Symbol">}</a> <a id="4167" class="Symbol">→</a> <a id="4169" href="Data.Vec.html#Vec" class="Datatype">Vec</a> <a id="4173" href="linear.Surface.Surface.html#4150" class="Bound">A</a> <a id="4175" href="linear.Surface.Surface.html#4164" class="Bound">n</a> <a id="4177" class="Symbol">→</a> <a id="4179" href="linear.Surface.Surface.html#4150" class="Bound">A</a> <a id="4181" class="Symbol">→</a> <a id="4183" href="Data.Fin.html#Fin" class="Datatype">Fin</a> <a id="4187" href="linear.Surface.Surface.html#4164" class="Bound">n</a> <a id="4189" class="Symbol">→</a> <a id="4191" class="PrimitiveType">Set</a> <a id="4195" class="Keyword">where</a>
  <a id="_⁇_↝_.ze" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_.ze" class="InductiveConstructor">ze</a> <a id="4206" class="Symbol">:</a> <a id="4208" class="Symbol">∀</a> <a id="4210" class="Symbol">{</a><a id="4211" href="linear.Surface.Surface.html#4211" class="Bound">n</a><a id="4212" class="Symbol">}</a> <a id="4214" class="Symbol">{</a><a id="4215" href="linear.Surface.Surface.html#4215" class="Bound">xs</a> <a id="4218" class="Symbol">:</a> <a id="4220" href="Data.Vec.html#Vec" class="Datatype">Vec</a> <a id="4224" href="linear.Surface.Surface.html#4150" class="Bound">A</a> <a id="4226" href="linear.Surface.Surface.html#4211" class="Bound">n</a><a id="4227" class="Symbol">}</a> <a id="4229" class="Symbol">{</a><a id="4230" href="linear.Surface.Surface.html#4230" class="Bound">x</a> <a id="4232" class="Symbol">:</a> <a id="4234" href="linear.Surface.Surface.html#4150" class="Bound">A</a><a id="4235" class="Symbol">}</a> <a id="4237" class="Symbol">→</a> <a id="4239" href="linear.Surface.Surface.html#4230" class="Bound">x</a> <a id="4241" href="Data.Vec.html#Vec._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="4243" href="linear.Surface.Surface.html#4215" class="Bound">xs</a> <a id="4246" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">⁇</a> <a id="4248" href="linear.Surface.Surface.html#4230" class="Bound">x</a> <a id="4250" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">↝</a> <a id="4252" href="Data.Fin.html#Fin.zero" class="InductiveConstructor">zero</a>
  <a id="_⁇_↝_.su" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_.su" class="InductiveConstructor">su</a> <a id="4262" class="Symbol">:</a> <a id="4264" class="Symbol">∀</a> <a id="4266" class="Symbol">{</a><a id="4267" href="linear.Surface.Surface.html#4267" class="Bound">n</a><a id="4268" class="Symbol">}</a> <a id="4270" class="Symbol">{</a><a id="4271" href="linear.Surface.Surface.html#4271" class="Bound">xs</a> <a id="4274" class="Symbol">:</a> <a id="4276" href="Data.Vec.html#Vec" class="Datatype">Vec</a> <a id="4280" href="linear.Surface.Surface.html#4150" class="Bound">A</a> <a id="4282" href="linear.Surface.Surface.html#4267" class="Bound">n</a><a id="4283" class="Symbol">}</a> <a id="4285" class="Symbol">{</a><a id="4286" href="linear.Surface.Surface.html#4286" class="Bound">x</a> <a id="4288" href="linear.Surface.Surface.html#4288" class="Bound">y</a> <a id="4290" class="Symbol">:</a> <a id="4292" href="linear.Surface.Surface.html#4150" class="Bound">A</a><a id="4293" class="Symbol">}</a> <a id="4295" class="Symbol">{</a><a id="4296" href="linear.Surface.Surface.html#4296" class="Bound">k</a> <a id="4298" class="Symbol">:</a> <a id="4300" href="Data.Fin.html#Fin" class="Datatype">Fin</a> <a id="4304" href="linear.Surface.Surface.html#4267" class="Bound">n</a><a id="4305" class="Symbol">}</a> <a id="4307" class="Symbol">→</a>
       <a id="4316" href="linear.Surface.Surface.html#4286" class="Bound">x</a> <a id="4318" href="Relation.Binary.Core.html#_%E2%89%A2_" class="Function Operator">≢</a> <a id="4320" href="linear.Surface.Surface.html#4288" class="Bound">y</a> <a id="4322" class="Symbol">→</a> <a id="4324" href="linear.Surface.Surface.html#4271" class="Bound">xs</a> <a id="4327" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">⁇</a> <a id="4329" href="linear.Surface.Surface.html#4286" class="Bound">x</a> <a id="4331" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">↝</a> <a id="4333" href="linear.Surface.Surface.html#4296" class="Bound">k</a> <a id="4335" class="Symbol">→</a> <a id="4337" href="linear.Surface.Surface.html#4288" class="Bound">y</a> <a id="4339" href="Data.Vec.html#Vec._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="4341" href="linear.Surface.Surface.html#4271" class="Bound">xs</a> <a id="4344" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">⁇</a> <a id="4346" href="linear.Surface.Surface.html#4286" class="Bound">x</a> <a id="4348" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">↝</a> <a id="4350" href="Data.Fin.html#Fin.suc" class="InductiveConstructor">suc</a> <a id="4354" href="linear.Surface.Surface.html#4296" class="Bound">k</a>

<a id="⁇↝-invert" href="linear.Surface.Surface.html#%E2%81%87%E2%86%9D-invert" class="Function">⁇↝-invert</a> <a id="4367" class="Symbol">:</a> <a id="4369" class="Symbol">∀</a> <a id="4371" class="Symbol">{</a><a id="4372" href="linear.Surface.Surface.html#4372" class="Bound">A</a><a id="4373" class="Symbol">}</a> <a id="4375" class="Symbol">{</a><a id="4376" href="linear.Surface.Surface.html#4376" class="Bound">n</a><a id="4377" class="Symbol">}</a> <a id="4379" class="Symbol">{</a><a id="4380" href="linear.Surface.Surface.html#4380" class="Bound">xs</a> <a id="4383" class="Symbol">:</a> <a id="4385" href="Data.Vec.html#Vec" class="Datatype">Vec</a> <a id="4389" href="linear.Surface.Surface.html#4372" class="Bound">A</a> <a id="4391" href="linear.Surface.Surface.html#4376" class="Bound">n</a><a id="4392" class="Symbol">}</a> <a id="4394" class="Symbol">{</a><a id="4395" href="linear.Surface.Surface.html#4395" class="Bound">x</a> <a id="4397" href="linear.Surface.Surface.html#4397" class="Bound">y</a><a id="4398" class="Symbol">}</a> <a id="4400" class="Symbol">{</a><a id="4401" href="linear.Surface.Surface.html#4401" class="Bound">k</a><a id="4402" class="Symbol">}</a> <a id="4404" class="Symbol">→</a> <a id="4406" href="linear.Surface.Surface.html#4397" class="Bound">y</a> <a id="4408" href="Data.Vec.html#Vec._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="4410" href="linear.Surface.Surface.html#4380" class="Bound">xs</a> <a id="4413" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">⁇</a> <a id="4415" href="linear.Surface.Surface.html#4395" class="Bound">x</a> <a id="4417" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">↝</a> <a id="4419" href="linear.Surface.Surface.html#4401" class="Bound">k</a> <a id="4421" class="Symbol">→</a>
            <a id="4435" href="linear.Surface.Surface.html#4395" class="Bound">x</a> <a id="4437" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="4439" href="linear.Surface.Surface.html#4397" class="Bound">y</a> <a id="4441" href="Data.Sum.html#_%E2%8A%8E_" class="Datatype Operator">⊎</a> <a id="4443" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="4445" class="Symbol">λ</a> <a id="4447" href="linear.Surface.Surface.html#4447" class="Bound">k</a> <a id="4449" class="Symbol">→</a> <a id="4451" href="linear.Surface.Surface.html#4380" class="Bound">xs</a> <a id="4454" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">⁇</a> <a id="4456" href="linear.Surface.Surface.html#4395" class="Bound">x</a> <a id="4458" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">↝</a> <a id="4460" href="linear.Surface.Surface.html#4447" class="Bound">k</a>
<a id="4462" href="linear.Surface.Surface.html#%E2%81%87%E2%86%9D-invert" class="Function">⁇↝-invert</a> <a id="4472" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_.ze" class="InductiveConstructor">ze</a>          <a id="4484" class="Symbol">=</a> <a id="4486" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%81" class="InductiveConstructor">inj₁</a> <a id="4491" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>
<a id="4496" href="linear.Surface.Surface.html#%E2%81%87%E2%86%9D-invert" class="Function">⁇↝-invert</a> <a id="4506" class="Symbol">(</a><a id="4507" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_.su" class="InductiveConstructor">su</a> <a id="4510" href="linear.Surface.Surface.html#4510" class="Bound">¬eq</a> <a id="4514" href="linear.Surface.Surface.html#4514" class="Bound">pr</a><a id="4516" class="Symbol">)</a> <a id="4518" class="Symbol">=</a> <a id="4520" href="Data.Sum.html#_%E2%8A%8E_.inj%E2%82%82" class="InductiveConstructor">inj₂</a> <a id="4525" class="Symbol">(</a><a id="4526" href="Data.Product.html#%2C_" class="Function Operator">,</a> <a id="4528" href="linear.Surface.Surface.html#4514" class="Bound">pr</a><a id="4530" class="Symbol">)</a>

<a id="4533" class="Keyword">module</a> <a id="withEqDec" href="linear.Surface.Surface.html#withEqDec" class="Module">withEqDec</a> <a id="4550" class="Symbol">{</a><a id="4551" href="linear.Surface.Surface.html#4551" class="Bound">A</a> <a id="4553" class="Symbol">:</a> <a id="4555" class="PrimitiveType">Set</a><a id="4558" class="Symbol">}</a> <a id="4560" class="Symbol">(</a><a id="4561" href="linear.Surface.Surface.html#4561" class="Bound">eq?</a> <a id="4565" class="Symbol">:</a> <a id="4567" class="Symbol">(</a><a id="4568" href="linear.Surface.Surface.html#4568" class="Bound">x</a> <a id="4570" href="linear.Surface.Surface.html#4570" class="Bound">y</a> <a id="4572" class="Symbol">:</a> <a id="4574" href="linear.Surface.Surface.html#4551" class="Bound">A</a><a id="4575" class="Symbol">)</a> <a id="4577" class="Symbol">→</a> <a id="4579" href="Relation.Nullary.html#Dec" class="Datatype">Dec</a> <a id="4583" class="Symbol">(</a><a id="4584" href="linear.Surface.Surface.html#4568" class="Bound">x</a> <a id="4586" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="4588" href="linear.Surface.Surface.html#4570" class="Bound">y</a><a id="4589" class="Symbol">))</a> <a id="4592" class="Keyword">where</a>

  <a id="withEqDec.resolve" href="linear.Surface.Surface.html#withEqDec.resolve" class="Function">resolve</a> <a id="4609" class="Symbol">:</a> <a id="4611" class="Symbol">∀</a> <a id="4613" class="Symbol">{</a><a id="4614" href="linear.Surface.Surface.html#4614" class="Bound">n</a><a id="4615" class="Symbol">}</a> <a id="4617" class="Symbol">(</a><a id="4618" href="linear.Surface.Surface.html#4618" class="Bound">x</a> <a id="4620" class="Symbol">:</a> <a id="4622" href="linear.Surface.Surface.html#4551" class="Bound">A</a><a id="4623" class="Symbol">)</a> <a id="4625" class="Symbol">(</a><a id="4626" href="linear.Surface.Surface.html#4626" class="Bound">xs</a> <a id="4629" class="Symbol">:</a> <a id="4631" href="Data.Vec.html#Vec" class="Datatype">Vec</a> <a id="4635" href="linear.Surface.Surface.html#4551" class="Bound">A</a> <a id="4637" href="linear.Surface.Surface.html#4614" class="Bound">n</a><a id="4638" class="Symbol">)</a> <a id="4640" class="Symbol">→</a> <a id="4642" href="Relation.Nullary.html#Dec" class="Datatype">Dec</a> <a id="4646" class="Symbol">(</a><a id="4647" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="4649" class="Symbol">λ</a> <a id="4651" href="linear.Surface.Surface.html#4651" class="Bound">k</a> <a id="4653" class="Symbol">→</a> <a id="4655" href="linear.Surface.Surface.html#4626" class="Bound">xs</a> <a id="4658" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">⁇</a> <a id="4660" href="linear.Surface.Surface.html#4618" class="Bound">x</a> <a id="4662" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_" class="Datatype Operator">↝</a> <a id="4664" href="linear.Surface.Surface.html#4651" class="Bound">k</a><a id="4665" class="Symbol">)</a>
  <a id="4669" href="linear.Surface.Surface.html#withEqDec.resolve" class="Function">resolve</a> <a id="4677" href="linear.Surface.Surface.html#4677" class="Bound">x</a> <a id="4679" href="Data.Vec.html#Vec.%5B%5D" class="InductiveConstructor">[]</a>       <a id="4688" class="Symbol">=</a> <a id="4690" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="4693" class="Symbol">(λ</a> <a id="4696" class="Symbol">{</a> <a id="4698" class="Symbol">(()</a> <a id="4702" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4704" class="Symbol">())</a> <a id="4708" class="Symbol">})</a>
  <a id="4713" href="linear.Surface.Surface.html#withEqDec.resolve" class="Function">resolve</a> <a id="4721" href="linear.Surface.Surface.html#4721" class="Bound">x</a> <a id="4723" class="Symbol">(</a><a id="4724" href="linear.Surface.Surface.html#4724" class="Bound">y</a> <a id="4726" href="Data.Vec.html#Vec._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="4728" href="linear.Surface.Surface.html#4728" class="Bound">xs</a><a id="4730" class="Symbol">)</a> <a id="4732" class="Keyword">with</a> <a id="4737" href="linear.Surface.Surface.html#4561" class="Bound">eq?</a> <a id="4741" href="linear.Surface.Surface.html#4721" class="Bound">x</a> <a id="4743" href="linear.Surface.Surface.html#4724" class="Bound">y</a> <a id="4745" class="Symbol">|</a> <a id="4747" href="linear.Surface.Surface.html#withEqDec.resolve" class="Function">resolve</a> <a id="4755" href="linear.Surface.Surface.html#4721" class="Bound">x</a> <a id="4757" href="linear.Surface.Surface.html#4728" class="Bound">xs</a>
  <a id="4762" href="linear.Surface.Surface.html#withEqDec.resolve" class="Function">resolve</a> <a id="4770" href="linear.Surface.Surface.html#4770" class="Bound">x</a> <a id="4772" class="Symbol">(</a><a id="4773" class="DottedPattern Symbol">.</a><a id="4774" href="linear.Surface.Surface.html#4770" class="DottedPattern Bound">x</a> <a id="4776" href="Data.Vec.html#Vec._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="4778" href="linear.Surface.Surface.html#4778" class="Bound">xs</a><a id="4780" class="Symbol">)</a> <a id="4782" class="Symbol">|</a> <a id="4784" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="4788" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="4793" class="Symbol">|</a> <a id="4795" class="Symbol">_</a> <a id="4797" class="Symbol">=</a> <a id="4799" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="4803" class="Symbol">(</a><a id="4804" href="Data.Product.html#%2C_" class="Function Operator">,</a> <a id="4806" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_.ze" class="InductiveConstructor">ze</a><a id="4808" class="Symbol">)</a>
  <a id="4812" class="Symbol">...</a> <a id="4816" class="Symbol">|</a> <a id="4818" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="4821" href="linear.Surface.Surface.html#4821" class="Bound">¬eq</a> <a id="4825" class="Symbol">|</a> <a id="4827" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="4831" class="Symbol">(</a><a id="4832" href="linear.Surface.Surface.html#4832" class="Bound">k</a> <a id="4834" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="4836" href="linear.Surface.Surface.html#4836" class="Bound">pr</a><a id="4838" class="Symbol">)</a> <a id="4840" class="Symbol">=</a> <a id="4842" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="4846" class="Symbol">(</a><a id="4847" href="Data.Product.html#%2C_" class="Function Operator">,</a> <a id="4849" href="linear.Surface.Surface.html#_%E2%81%87_%E2%86%9D_.su" class="InductiveConstructor">su</a> <a id="4852" href="linear.Surface.Surface.html#4821" class="Bound">¬eq</a> <a id="4856" href="linear.Surface.Surface.html#4836" class="Bound">pr</a><a id="4858" class="Symbol">)</a> 
  <a id="4863" class="Symbol">...</a> <a id="4867" class="Symbol">|</a> <a id="4869" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="4872" href="linear.Surface.Surface.html#4872" class="Bound">¬eq</a> <a id="4876" class="Symbol">|</a> <a id="4878" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="4881" href="linear.Surface.Surface.html#4881" class="Bound">¬pr</a> <a id="4885" class="Symbol">=</a> <a id="4887" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="4890" class="Symbol">(</a><a id="4891" href="Data.Sum.html#%5B_%2C_%5D" class="Function Operator">[</a> <a id="4893" href="linear.Surface.Surface.html#4872" class="Bound">¬eq</a> <a id="4897" href="Data.Sum.html#%5B_%2C_%5D" class="Function Operator">,</a> <a id="4899" href="linear.Surface.Surface.html#4881" class="Bound">¬pr</a> <a id="4903" href="Data.Sum.html#%5B_%2C_%5D" class="Function Operator">]</a> <a id="4905" href="Function.html#_%E2%88%98_" class="Function Operator">∘</a> <a id="4907" href="linear.Surface.Surface.html#%E2%81%87%E2%86%9D-invert" class="Function">⁇↝-invert</a> <a id="4917" href="Function.html#_%E2%88%98_" class="Function Operator">∘</a> <a id="4919" href="Data.Product.html#%CE%A3.proj%E2%82%82" class="Field">proj₂</a><a id="4924" class="Symbol">)</a>

<a id="4927" class="Keyword">open</a> <a id="4932" href="linear.Surface.Surface.html#withEqDec" class="Module">withEqDec</a> <a id="4942" href="Data.String.html#_%E2%89%9F_" class="Function Operator">Data.String._≟_</a>
<a id="4958" class="Keyword">import</a> <a id="4965" href="linear.Language.html" class="Module">linear.Language</a> <a id="4981" class="Symbol">as</a> <a id="4984" class="Module">L</a>
<a id="4986" class="Keyword">open</a> <a id="4991" class="Keyword">import</a> <a id="4998" href="Category.Monad.html" class="Module">Category.Monad</a>
<a id="5013" class="Keyword">import</a> <a id="5020" href="Level.html" class="Module">Level</a>
<a id="5026" class="Keyword">open</a> <a id="5031" href="Category.Monad.html#RawMonad" class="Module">RawMonad</a> <a id="5040" class="Symbol">(</a><a id="5041" href="Data.Maybe.html#monad" class="Function">monad</a> <a id="5047" class="Symbol">{</a><a id="5048" href="Agda.Primitive.html#zero" class="Primitive">Level.zero</a><a id="5058" class="Symbol">})</a> <a id="5061" class="Keyword">hiding</a> <a id="5068" class="Symbol">(</a>_⊗_<a id="5072" class="Symbol">)</a>

<a id="scopePattern" href="linear.Surface.Surface.html#scopePattern" class="Function">scopePattern</a> <a id="5088" class="Symbol">:</a> <a id="5090" href="linear.Surface.Surface.html#Pattern" class="Datatype">Pattern</a> <a id="5098" class="Symbol">→</a> <a id="5100" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="5102" class="Symbol">λ</a> <a id="5104" href="linear.Surface.Surface.html#5104" class="Bound">n</a> <a id="5106" class="Symbol">→</a> <a id="5108" href="Data.Vec.html#Vec" class="Datatype">Vec</a> <a id="5112" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="5119" href="linear.Surface.Surface.html#5104" class="Bound">n</a> <a id="5121" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="5123" href="linear.Language.html#Pattern" class="Datatype">L.Pattern</a> <a id="5133" href="linear.Surface.Surface.html#5104" class="Bound">n</a>
<a id="5135" href="linear.Surface.Surface.html#scopePattern" class="Function">scopePattern</a> <a id="5148" class="Symbol">(</a><a id="5149" href="linear.Surface.Surface.html#Pattern.%60v" class="InductiveConstructor">`v</a> <a id="5152" href="linear.Surface.Surface.html#5152" class="Bound">nm</a><a id="5154" class="Symbol">)</a>  <a id="5157" class="Symbol">=</a> <a id="5159" href="Data.Product.html#%2C_" class="Function Operator">,</a> <a id="5161" href="linear.Surface.Surface.html#5152" class="Bound">nm</a> <a id="5164" href="Data.Vec.html#Vec._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="5166" href="Data.Vec.html#Vec.%5B%5D" class="InductiveConstructor">[]</a> <a id="5169" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5171" href="linear.Language.html#Pattern.%60v" class="InductiveConstructor">L.`v</a>
<a id="5176" href="linear.Surface.Surface.html#scopePattern" class="Function">scopePattern</a> <a id="5189" href="linear.Surface.Surface.html#Pattern.%60%E2%9F%A8%E2%9F%A9" class="InductiveConstructor">`⟨⟩</a>      <a id="5198" class="Symbol">=</a> <a id="5200" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a> <a id="5205" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5207" href="Data.Vec.html#Vec.%5B%5D" class="InductiveConstructor">[]</a> <a id="5210" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5212" href="linear.Language.html#Pattern.%60%E2%9F%A8%E2%9F%A9" class="InductiveConstructor">L.`⟨⟩</a>
<a id="5218" href="linear.Surface.Surface.html#scopePattern" class="Function">scopePattern</a> <a id="5231" class="Symbol">(</a><a id="5232" href="linear.Surface.Surface.html#5232" class="Bound">p</a> <a id="5234" href="linear.Surface.Surface.html#Pattern._%2C%2C_" class="InductiveConstructor Operator">,,</a> <a id="5237" href="linear.Surface.Surface.html#5237" class="Bound">q</a><a id="5238" class="Symbol">)</a> <a id="5240" class="Symbol">=</a>
  <a id="5244" class="Keyword">let</a> <a id="5248" class="Symbol">(</a><a id="5249" href="linear.Surface.Surface.html#5249" class="Bound">m</a> <a id="5251" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5253" href="linear.Surface.Surface.html#5253" class="Bound">xs</a> <a id="5256" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5258" href="linear.Surface.Surface.html#5258" class="Bound">p′</a><a id="5260" class="Symbol">)</a> <a id="5262" class="Symbol">=</a> <a id="5264" href="linear.Surface.Surface.html#scopePattern" class="Function">scopePattern</a> <a id="5277" href="linear.Surface.Surface.html#5232" class="Bound">p</a>
      <a id="5285" class="Symbol">(</a><a id="5286" href="linear.Surface.Surface.html#5286" class="Bound">n</a> <a id="5288" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5290" href="linear.Surface.Surface.html#5290" class="Bound">ys</a> <a id="5293" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5295" href="linear.Surface.Surface.html#5295" class="Bound">q′</a><a id="5297" class="Symbol">)</a> <a id="5299" class="Symbol">=</a> <a id="5301" href="linear.Surface.Surface.html#scopePattern" class="Function">scopePattern</a> <a id="5314" href="linear.Surface.Surface.html#5237" class="Bound">q</a>
  <a id="5318" class="Keyword">in</a> <a id="5321" href="Data.Product.html#%2C_" class="Function Operator">,</a> <a id="5323" href="linear.Surface.Surface.html#5253" class="Bound">xs</a> <a id="5326" href="Data.Vec.html#_%2B%2B_" class="Function Operator">++</a> <a id="5329" href="linear.Surface.Surface.html#5290" class="Bound">ys</a> <a id="5332" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5334" href="linear.Surface.Surface.html#5258" class="Bound">p′</a> <a id="5337" href="linear.Language.html#Pattern._%2C%2C_" class="InductiveConstructor Operator">L.,,</a> <a id="5342" href="linear.Surface.Surface.html#5295" class="Bound">q′</a>

<a id="5346" class="Keyword">mutual</a>

  <a id="scopeCheck" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5367" class="Symbol">:</a> <a id="5369" class="Symbol">∀</a> <a id="5371" class="Symbol">{</a><a id="5372" href="linear.Surface.Surface.html#5372" class="Bound">n</a><a id="5373" class="Symbol">}</a> <a id="5375" class="Symbol">→</a> <a id="5377" href="Data.Vec.html#Vec" class="Datatype">Vec</a> <a id="5381" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="5388" href="linear.Surface.Surface.html#5372" class="Bound">n</a> <a id="5390" class="Symbol">→</a> <a id="5392" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a> <a id="5398" class="Symbol">→</a> <a id="5400" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a> <a id="5406" class="Symbol">(</a><a id="5407" href="linear.Language.html#Check" class="Datatype">L.Check</a> <a id="5415" href="linear.Surface.Surface.html#5372" class="Bound">n</a><a id="5416" class="Symbol">)</a>
  <a id="5420" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5431" href="linear.Surface.Surface.html#5431" class="Bound">nms</a> <a id="5435" class="Symbol">(</a><a id="5436" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">`lam</a> <a id="5441" href="linear.Surface.Surface.html#5441" class="Bound">nm</a> <a id="5444" href="linear.Surface.Surface.html#Check.%60lam_%E2%86%A6_" class="InductiveConstructor Operator">↦</a> <a id="5446" href="linear.Surface.Surface.html#5446" class="Bound">b</a><a id="5447" class="Symbol">)</a> <a id="5449" class="Symbol">=</a> <a id="5451" href="linear.Language.html#Check.%60lam_" class="InductiveConstructor Operator">L.`lam_</a> <a id="5459" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="5463" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5474" class="Symbol">(</a><a id="5475" href="linear.Surface.Surface.html#5441" class="Bound">nm</a> <a id="5478" href="Data.Vec.html#Vec._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="5480" href="linear.Surface.Surface.html#5431" class="Bound">nms</a><a id="5483" class="Symbol">)</a> <a id="5485" href="linear.Surface.Surface.html#5446" class="Bound">b</a>
  <a id="5489" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5500" href="linear.Surface.Surface.html#5500" class="Bound">nms</a> <a id="5504" class="Symbol">(</a><a id="5505" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">`let</a> <a id="5510" href="linear.Surface.Surface.html#5510" class="Bound">p</a> <a id="5512" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">∷=</a> <a id="5515" href="linear.Surface.Surface.html#5515" class="Bound">t</a> <a id="5517" href="linear.Surface.Surface.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">`in</a> <a id="5521" href="linear.Surface.Surface.html#5521" class="Bound">u</a><a id="5522" class="Symbol">)</a> <a id="5524" class="Symbol">=</a>
    <a id="5530" class="Keyword">let</a> <a id="5534" class="Symbol">(</a><a id="5535" href="linear.Surface.Surface.html#5535" class="Bound">m</a> <a id="5537" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5539" href="linear.Surface.Surface.html#5539" class="Bound">nms′</a> <a id="5544" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="5546" href="linear.Surface.Surface.html#5546" class="Bound">p′</a><a id="5548" class="Symbol">)</a> <a id="5550" class="Symbol">=</a> <a id="5552" href="linear.Surface.Surface.html#scopePattern" class="Function">scopePattern</a> <a id="5565" href="linear.Surface.Surface.html#5510" class="Bound">p</a>
    <a id="5571" class="Keyword">in</a> <a id="5574" href="linear.Language.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">L.`let</a> <a id="5581" href="linear.Surface.Surface.html#5546" class="Bound">p′</a> <a id="5584" href="linear.Language.html#Check.%60let_%E2%88%B7%3D_%60in_" class="InductiveConstructor Operator">∷=_`in_</a> <a id="5592" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="5596" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="5607" href="linear.Surface.Surface.html#5500" class="Bound">nms</a> <a id="5611" href="linear.Surface.Surface.html#5515" class="Bound">t</a> <a id="5613" href="Category.Applicative.Indexed.html#780" class="Function Operator">⊛</a> <a id="5615" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5626" class="Symbol">(</a><a id="5627" href="linear.Surface.Surface.html#5539" class="Bound">nms′</a> <a id="5632" href="Data.Vec.html#_%2B%2B_" class="Function Operator">++</a> <a id="5635" href="linear.Surface.Surface.html#5500" class="Bound">nms</a><a id="5638" class="Symbol">)</a> <a id="5640" href="linear.Surface.Surface.html#5521" class="Bound">u</a>
  <a id="5644" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5655" href="linear.Surface.Surface.html#5655" class="Bound">nms</a> <a id="5659" href="linear.Surface.Surface.html#Check.%60unit" class="InductiveConstructor">`unit</a>      <a id="5670" class="Symbol">=</a> <a id="5672" href="Category.Monad.Indexed.html#533" class="Function">return</a> <a id="5679" href="linear.Language.html#Check.%60unit" class="InductiveConstructor">L.`unit</a>
  <a id="5689" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5700" href="linear.Surface.Surface.html#5700" class="Bound">nms</a> <a id="5704" class="Symbol">(</a><a id="5705" href="linear.Surface.Surface.html#Check.%60prd" class="InductiveConstructor">`prd</a> <a id="5710" href="linear.Surface.Surface.html#5710" class="Bound">a</a> <a id="5712" href="linear.Surface.Surface.html#5712" class="Bound">b</a><a id="5713" class="Symbol">)</a> <a id="5715" class="Symbol">=</a> <a id="5717" href="linear.Language.html#Check.%60prd" class="InductiveConstructor">L.`prd</a> <a id="5724" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="5728" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5739" href="linear.Surface.Surface.html#5700" class="Bound">nms</a> <a id="5743" href="linear.Surface.Surface.html#5710" class="Bound">a</a> <a id="5745" href="Category.Applicative.Indexed.html#780" class="Function Operator">⊛</a> <a id="5747" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5758" href="linear.Surface.Surface.html#5700" class="Bound">nms</a> <a id="5762" href="linear.Surface.Surface.html#5712" class="Bound">b</a>
  <a id="5766" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5777" href="linear.Surface.Surface.html#5777" class="Bound">nms</a> <a id="5781" class="Symbol">(</a><a id="5782" href="linear.Surface.Surface.html#Check.%60inl_" class="InductiveConstructor Operator">`inl</a> <a id="5787" href="linear.Surface.Surface.html#5787" class="Bound">t</a><a id="5788" class="Symbol">)</a> <a id="5790" class="Symbol">=</a> <a id="5792" href="linear.Language.html#Check.%60inl_" class="InductiveConstructor Operator">L.`inl_</a> <a id="5800" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="5804" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5815" href="linear.Surface.Surface.html#5777" class="Bound">nms</a> <a id="5819" href="linear.Surface.Surface.html#5787" class="Bound">t</a>
  <a id="5823" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5834" href="linear.Surface.Surface.html#5834" class="Bound">nms</a> <a id="5838" class="Symbol">(</a><a id="5839" href="linear.Surface.Surface.html#Check.%60inr_" class="InductiveConstructor Operator">`inr</a> <a id="5844" href="linear.Surface.Surface.html#5844" class="Bound">t</a><a id="5845" class="Symbol">)</a> <a id="5847" class="Symbol">=</a> <a id="5849" href="linear.Language.html#Check.%60inr_" class="InductiveConstructor Operator">L.`inr_</a> <a id="5857" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="5861" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5872" href="linear.Surface.Surface.html#5834" class="Bound">nms</a> <a id="5876" href="linear.Surface.Surface.html#5844" class="Bound">t</a>
  <a id="5880" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="5891" href="linear.Surface.Surface.html#5891" class="Bound">nms</a> <a id="5895" class="Symbol">(</a><a id="5896" href="linear.Surface.Surface.html#Check.%60neu_" class="InductiveConstructor Operator">`neu</a> <a id="5901" href="linear.Surface.Surface.html#5901" class="Bound">i</a><a id="5902" class="Symbol">)</a> <a id="5904" class="Symbol">=</a> <a id="5906" href="linear.Language.html#Check.%60neu_" class="InductiveConstructor Operator">L.`neu_</a> <a id="5914" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="5918" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="5929" href="linear.Surface.Surface.html#5891" class="Bound">nms</a> <a id="5933" href="linear.Surface.Surface.html#5901" class="Bound">i</a>

  <a id="scopeInfer" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="5949" class="Symbol">:</a> <a id="5951" class="Symbol">∀</a> <a id="5953" class="Symbol">{</a><a id="5954" href="linear.Surface.Surface.html#5954" class="Bound">n</a><a id="5955" class="Symbol">}</a> <a id="5957" class="Symbol">→</a> <a id="5959" href="Data.Vec.html#Vec" class="Datatype">Vec</a> <a id="5963" href="Agda.Builtin.String.html#String" class="Postulate">String</a> <a id="5970" href="linear.Surface.Surface.html#5954" class="Bound">n</a> <a id="5972" class="Symbol">→</a> <a id="5974" href="linear.Surface.Surface.html#Infer" class="Datatype">Infer</a> <a id="5980" class="Symbol">→</a> <a id="5982" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a> <a id="5988" class="Symbol">(</a><a id="5989" href="linear.Language.html#Infer" class="Datatype">L.Infer</a> <a id="5997" href="linear.Surface.Surface.html#5954" class="Bound">n</a><a id="5998" class="Symbol">)</a>
  <a id="6002" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6013" href="linear.Surface.Surface.html#6013" class="Bound">nms</a> <a id="6017" class="Symbol">(</a><a id="6018" href="linear.Surface.Surface.html#Infer.%60var" class="InductiveConstructor">`var</a> <a id="6023" href="linear.Surface.Surface.html#6023" class="Bound">nm</a><a id="6025" class="Symbol">)</a> <a id="6027" class="Keyword">with</a> <a id="6032" href="linear.Surface.Surface.html#4601" class="Function">resolve</a> <a id="6040" href="linear.Surface.Surface.html#6023" class="Bound">nm</a> <a id="6043" href="linear.Surface.Surface.html#6013" class="Bound">nms</a>
  <a id="6049" class="Symbol">...</a> <a id="6053" class="Symbol">|</a> <a id="6055" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="6059" class="Symbol">(</a><a id="6060" href="linear.Surface.Surface.html#6060" class="Bound">k</a> <a id="6062" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="6064" class="Symbol">_)</a> <a id="6067" class="Symbol">=</a> <a id="6069" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="6074" class="Symbol">(</a><a id="6075" href="linear.Language.html#Infer.%60var_" class="InductiveConstructor Operator">L.`var</a> <a id="6082" href="linear.Surface.Surface.html#6060" class="Bound">k</a><a id="6083" class="Symbol">)</a>
  <a id="6087" class="Symbol">...</a> <a id="6091" class="Symbol">|</a> <a id="6093" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="6096" href="linear.Surface.Surface.html#6096" class="Bound">¬p</a> <a id="6099" class="Symbol">=</a> <a id="6101" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>
  <a id="6111" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6122" href="linear.Surface.Surface.html#6122" class="Bound">nms</a> <a id="6126" class="Symbol">(</a><a id="6127" href="linear.Surface.Surface.html#Infer.%60app" class="InductiveConstructor">`app</a> <a id="6132" href="linear.Surface.Surface.html#6132" class="Bound">f</a> <a id="6134" href="linear.Surface.Surface.html#6134" class="Bound">t</a><a id="6135" class="Symbol">)</a>  <a id="6138" class="Symbol">=</a> <a id="6140" href="linear.Language.html#Infer.%60app" class="InductiveConstructor">L.`app</a>  <a id="6148" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="6152" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6163" href="linear.Surface.Surface.html#6122" class="Bound">nms</a> <a id="6167" href="linear.Surface.Surface.html#6132" class="Bound">f</a> <a id="6169" href="Category.Applicative.Indexed.html#780" class="Function Operator">⊛</a> <a id="6171" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="6182" href="linear.Surface.Surface.html#6122" class="Bound">nms</a> <a id="6186" href="linear.Surface.Surface.html#6134" class="Bound">t</a>
  <a id="6190" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6201" href="linear.Surface.Surface.html#6201" class="Bound">nms</a> <a id="6205" class="Symbol">(</a><a id="6206" href="linear.Surface.Surface.html#Infer.%60fst" class="InductiveConstructor">`fst</a> <a id="6211" href="linear.Surface.Surface.html#6211" class="Bound">t</a><a id="6212" class="Symbol">)</a>    <a id="6217" class="Symbol">=</a> <a id="6219" href="linear.Language.html#Infer.%60fst_" class="InductiveConstructor Operator">L.`fst_</a> <a id="6227" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="6231" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6242" href="linear.Surface.Surface.html#6201" class="Bound">nms</a> <a id="6246" href="linear.Surface.Surface.html#6211" class="Bound">t</a>
  <a id="6250" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6261" href="linear.Surface.Surface.html#6261" class="Bound">nms</a> <a id="6265" class="Symbol">(</a><a id="6266" href="linear.Surface.Surface.html#Infer.%60snd" class="InductiveConstructor">`snd</a> <a id="6271" href="linear.Surface.Surface.html#6271" class="Bound">t</a><a id="6272" class="Symbol">)</a>    <a id="6277" class="Symbol">=</a> <a id="6279" href="linear.Language.html#Infer.%60snd_" class="InductiveConstructor Operator">L.`snd_</a> <a id="6287" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="6291" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6302" href="linear.Surface.Surface.html#6261" class="Bound">nms</a> <a id="6306" href="linear.Surface.Surface.html#6271" class="Bound">t</a>
  <a id="6310" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6321" href="linear.Surface.Surface.html#6321" class="Bound">nms</a> <a id="6325" class="Symbol">(</a><a id="6326" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">`case</a> <a id="6332" href="linear.Surface.Surface.html#6332" class="Bound">i</a> <a id="6334" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">return</a> <a id="6341" href="linear.Surface.Surface.html#6341" class="Bound">σ</a> <a id="6343" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">of</a> <a id="6346" href="linear.Surface.Surface.html#6346" class="Bound">nml</a> <a id="6350" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">↦</a> <a id="6352" href="linear.Surface.Surface.html#6352" class="Bound">l</a> <a id="6354" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">%%</a> <a id="6357" href="linear.Surface.Surface.html#6357" class="Bound">nmr</a> <a id="6361" href="linear.Surface.Surface.html#Infer.%60case_return_of_%E2%86%A6_%25%25_%E2%86%A6_" class="InductiveConstructor Operator">↦</a> <a id="6363" href="linear.Surface.Surface.html#6363" class="Bound">r</a><a id="6364" class="Symbol">)</a> <a id="6366" class="Symbol">=</a>
    <a id="6372" href="linear.Language.html#Infer.%60case_return_of_%25%25_" class="InductiveConstructor Operator">L.`case_return</a> <a id="6387" href="linear.Surface.Surface.html#6341" class="Bound">σ</a> <a id="6389" href="linear.Language.html#Infer.%60case_return_of_%25%25_" class="InductiveConstructor Operator">of_%%_</a> <a id="6396" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="6400" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6411" href="linear.Surface.Surface.html#6321" class="Bound">nms</a> <a id="6415" href="linear.Surface.Surface.html#6332" class="Bound">i</a> <a id="6417" href="Category.Applicative.Indexed.html#780" class="Function Operator">⊛</a> <a id="6419" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="6430" class="Symbol">(</a><a id="6431" href="linear.Surface.Surface.html#6346" class="Bound">nml</a> <a id="6435" href="Data.Vec.html#Vec._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="6437" href="linear.Surface.Surface.html#6321" class="Bound">nms</a><a id="6440" class="Symbol">)</a> <a id="6442" href="linear.Surface.Surface.html#6352" class="Bound">l</a> <a id="6444" href="Category.Applicative.Indexed.html#780" class="Function Operator">⊛</a> <a id="6446" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="6457" class="Symbol">(</a><a id="6458" href="linear.Surface.Surface.html#6357" class="Bound">nmr</a> <a id="6462" href="Data.Vec.html#Vec._%E2%88%B7_" class="InductiveConstructor Operator">∷</a> <a id="6464" href="linear.Surface.Surface.html#6321" class="Bound">nms</a><a id="6467" class="Symbol">)</a> <a id="6469" href="linear.Surface.Surface.html#6363" class="Bound">r</a>
  <a id="6473" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6484" href="linear.Surface.Surface.html#6484" class="Bound">nms</a> <a id="6488" class="Symbol">(</a><a id="6489" href="linear.Surface.Surface.html#Infer.%60exfalso" class="InductiveConstructor">`exfalso</a> <a id="6498" href="linear.Surface.Surface.html#6498" class="Bound">σ</a> <a id="6500" href="linear.Surface.Surface.html#6500" class="Bound">t</a><a id="6501" class="Symbol">)</a> <a id="6503" class="Symbol">=</a> <a id="6505" href="linear.Language.html#Infer.%60exfalso" class="InductiveConstructor">L.`exfalso</a> <a id="6516" href="linear.Surface.Surface.html#6498" class="Bound">σ</a> <a id="6518" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="6522" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6533" href="linear.Surface.Surface.html#6484" class="Bound">nms</a> <a id="6537" href="linear.Surface.Surface.html#6500" class="Bound">t</a>
  <a id="6541" href="linear.Surface.Surface.html#scopeInfer" class="Function">scopeInfer</a> <a id="6552" href="linear.Surface.Surface.html#6552" class="Bound">nms</a> <a id="6556" class="Symbol">(</a><a id="6557" href="linear.Surface.Surface.html#Infer.%60cut" class="InductiveConstructor">`cut</a> <a id="6562" href="linear.Surface.Surface.html#6562" class="Bound">t</a> <a id="6564" href="linear.Surface.Surface.html#6564" class="Bound">σ</a><a id="6565" class="Symbol">)</a>     <a id="6571" class="Symbol">=</a> <a id="6573" class="Symbol">(λ</a> <a id="6576" href="linear.Surface.Surface.html#6576" class="Bound">t</a> <a id="6578" class="Symbol">→</a> <a id="6580" href="linear.Language.html#Infer.%60cut" class="InductiveConstructor">L.`cut</a> <a id="6587" href="linear.Surface.Surface.html#6576" class="Bound">t</a> <a id="6589" href="linear.Surface.Surface.html#6564" class="Bound">σ</a><a id="6590" class="Symbol">)</a> <a id="6592" href="Category.Functor.html#475" class="Function Operator">&lt;$&gt;</a> <a id="6596" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="6607" href="linear.Surface.Surface.html#6552" class="Bound">nms</a> <a id="6611" href="linear.Surface.Surface.html#6562" class="Bound">t</a>



<a id="6616" class="Comment">-----------------------------------------------</a>
<a id="6664" class="Comment">-- Scope and Type Checking</a>
<a id="6691" class="Comment">-----------------------------------------------</a>

<a id="6740" class="Keyword">import</a> <a id="6747" href="linear.Usage.html" class="Module">linear.Usage</a> <a id="6760" class="Symbol">as</a> <a id="6763" class="Module">U</a>
<a id="6765" class="Keyword">import</a> <a id="6772" href="linear.Typing.html" class="Module">linear.Typing</a> <a id="6786" class="Symbol">as</a> <a id="6789" class="Module">T</a>
<a id="6791" class="Keyword">import</a> <a id="6798" href="linear.Typecheck.html" class="Module">linear.Typecheck</a> <a id="6815" class="Symbol">as</a> <a id="6818" class="Module">TC</a>
<a id="6821" class="Keyword">import</a> <a id="6828" href="linear.Typecheck.Problem.html" class="Module">linear.Typecheck.Problem</a> <a id="6853" class="Symbol">as</a> <a id="6856" class="Module">TCP</a>

<a id="linear" href="linear.Surface.Surface.html#linear" class="Function">linear</a> <a id="6868" class="Symbol">:</a> <a id="6870" class="Symbol">(</a><a id="6871" href="linear.Surface.Surface.html#6871" class="Bound">σ</a> <a id="6873" class="Symbol">:</a> <a id="6875" href="linear.Type.html#Type" class="Datatype">Type</a><a id="6879" class="Symbol">)</a> <a id="6881" class="Symbol">(</a><a id="6882" href="linear.Surface.Surface.html#6882" class="Bound">t</a> <a id="6884" class="Symbol">:</a> <a id="6886" href="linear.Surface.Surface.html#Check" class="Datatype">Check</a><a id="6891" class="Symbol">)</a> <a id="6893" class="Symbol">→</a> <a id="6895" href="Data.Maybe.Base.html#Maybe" class="Datatype">Maybe</a> <a id="6901" class="Symbol">(</a><a id="6902" href="Data.Product.html#%E2%88%83" class="Function">∃</a> <a id="6904" class="Symbol">λ</a> <a id="6906" href="linear.Surface.Surface.html#6906" class="Bound">c</a> <a id="6908" class="Symbol">→</a> <a id="6910" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="6915" href="linear.Surface.Surface.html#6906" class="Bound">c</a> <a id="6917" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="6919" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="6930" href="Data.Vec.html#Vec.%5B%5D" class="InductiveConstructor">[]</a> <a id="6933" href="linear.Surface.Surface.html#6882" class="Bound">t</a>
                                               <a id="6982" href="Data.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="6984" href="linear.Usage.html#Usages.%5B%5D" class="InductiveConstructor">U.[]</a> <a id="6989" href="linear.Typing.html#_%E2%8A%A2_%E2%88%8B_%E2%8A%A0_" class="Datatype Operator">T.⊢</a> <a id="6993" href="linear.Surface.Surface.html#6871" class="Bound">σ</a> <a id="6995" href="linear.Typing.html#_%E2%8A%A2_%E2%88%8B_%E2%8A%A0_" class="Datatype Operator">∋</a> <a id="6997" href="linear.Surface.Surface.html#6906" class="Bound">c</a> <a id="6999" href="linear.Typing.html#_%E2%8A%A2_%E2%88%8B_%E2%8A%A0_" class="Datatype Operator">⊠</a> <a id="7001" href="linear.Usage.html#Usages.%5B%5D" class="InductiveConstructor">U.[]</a><a id="7005" class="Symbol">)</a>
<a id="7007" href="linear.Surface.Surface.html#linear" class="Function">linear</a> <a id="7014" href="linear.Surface.Surface.html#7014" class="Bound">σ</a> <a id="7016" href="linear.Surface.Surface.html#7016" class="Bound">c</a> <a id="7018" class="Keyword">with</a> <a id="7023" href="linear.Surface.Surface.html#scopeCheck" class="Function">scopeCheck</a> <a id="7034" href="Data.Vec.html#Vec.%5B%5D" class="InductiveConstructor">[]</a> <a id="7037" href="linear.Surface.Surface.html#7016" class="Bound">c</a>
<a id="7039" class="Symbol">...</a> <a id="7043" class="Symbol">|</a> <a id="7045" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a> <a id="7053" class="Symbol">=</a> <a id="7055" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>
<a id="7063" class="Symbol">...</a> <a id="7067" class="Symbol">|</a> <a id="7069" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="7074" href="linear.Surface.Surface.html#7074" class="Bound">t</a>  <a id="7077" class="Symbol">=</a> <a id="7079" href="Function.html#case_of_" class="Function Operator">case</a> <a id="7084" href="linear.Typecheck.html#check" class="Function">TC.check</a> <a id="7093" href="linear.Usage.html#Usages.%5B%5D" class="InductiveConstructor">U.[]</a> <a id="7098" class="Bound">σ</a> <a id="7100" href="linear.Surface.Surface.html#7074" class="Bound">t</a> <a id="7102" href="Function.html#case_of_" class="Function Operator">of</a> <a id="7105" class="Symbol">λ</a>
              <a id="7121" class="Symbol">{</a> <a id="7123" class="Symbol">(</a><a id="7124" href="Relation.Nullary.html#Dec.yes" class="InductiveConstructor">yes</a> <a id="7128" class="Symbol">(</a><a id="7129" href="linear.Usage.html#Usages.%5B%5D" class="InductiveConstructor">U.[]</a> <a id="7134" href="linear.Typecheck.Problem.html#CHECK._%2C_" class="InductiveConstructor Operator">TCP.,</a> <a id="7140" href="linear.Surface.Surface.html#7140" class="Bound">pr</a><a id="7142" class="Symbol">))</a> <a id="7145" class="Symbol">→</a> <a id="7147" href="Data.Maybe.Base.html#Maybe.just" class="InductiveConstructor">just</a> <a id="7152" class="Symbol">(</a><a id="7153" href="linear.Surface.Surface.html#7074" class="Bound">t</a> <a id="7155" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7157" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="7162" href="Data.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="7164" href="linear.Surface.Surface.html#7140" class="Bound">pr</a><a id="7166" class="Symbol">)</a>
              <a id="7182" class="Symbol">;</a> <a id="7184" class="Symbol">(</a><a id="7185" href="Relation.Nullary.html#Dec.no" class="InductiveConstructor">no</a> <a id="7188" href="linear.Surface.Surface.html#7188" class="Bound">¬C</a><a id="7190" class="Symbol">)</a>               <a id="7206" class="Symbol">→</a> <a id="7208" href="Data.Maybe.Base.html#Maybe.nothing" class="InductiveConstructor">nothing</a>
              <a id="7230" class="Symbol">}</a>

<a id="7233" class="Comment">-- example:</a>
<a id="`swap⊗-ok" href="linear.Surface.Surface.html#%60swap%E2%8A%97-ok" class="Function">`swap⊗-ok</a> <a id="7255" class="Symbol">:</a> <a id="7257" class="Symbol">∀</a> <a id="7259" href="linear.Surface.Surface.html#7259" class="Bound">σ</a> <a id="7261" href="linear.Surface.Surface.html#7261" class="Bound">τ</a> <a id="7263" class="Symbol">→</a> <a id="7265" href="Data.Maybe.Base.html#Is-just" class="Function">Is-just</a> <a id="7273" class="Symbol">(</a><a id="7274" href="linear.Surface.Surface.html#linear" class="Function">linear</a> <a id="7281" class="Symbol">((</a><a id="7283" href="linear.Surface.Surface.html#7259" class="Bound">σ</a> <a id="7285" href="linear.Type.html#Type._%E2%8A%97_" class="InductiveConstructor Operator">⊗</a> <a id="7287" href="linear.Surface.Surface.html#7261" class="Bound">τ</a><a id="7288" class="Symbol">)</a> <a id="7290" href="linear.Type.html#Type._%E2%94%80o_" class="InductiveConstructor Operator">─o</a> <a id="7293" class="Symbol">(</a><a id="7294" href="linear.Surface.Surface.html#7261" class="Bound">τ</a> <a id="7296" href="linear.Type.html#Type._%E2%8A%97_" class="InductiveConstructor Operator">⊗</a> <a id="7298" href="linear.Surface.Surface.html#7259" class="Bound">σ</a><a id="7299" class="Symbol">))</a> <a id="7302" href="linear.Surface.Surface.html#%60swap%E2%8A%97" class="Function">`swap⊗</a><a id="7308" class="Symbol">)</a>
<a id="7310" href="linear.Surface.Surface.html#%60swap%E2%8A%97-ok" class="Function">`swap⊗-ok</a> <a id="7320" href="linear.Surface.Surface.html#7320" class="Bound">σ</a> <a id="7322" href="linear.Surface.Surface.html#7322" class="Bound">τ</a> <a id="7324" class="Keyword">rewrite</a> <a id="7332" href="linear.Type.html#eq-diag" class="Function">eq-diag</a> <a id="7340" href="linear.Surface.Surface.html#7322" class="Bound">τ</a> <a id="7342" class="Symbol">|</a> <a id="7344" href="linear.Type.html#eq-diag" class="Function">eq-diag</a> <a id="7352" href="linear.Surface.Surface.html#7320" class="Bound">σ</a> <a id="7354" class="Symbol">=</a> <a id="7356" href="Data.Maybe.Base.html#Any.just" class="InductiveConstructor">just</a> <a id="7361" class="Symbol">_</a>

<a id="7364" class="Comment">-- example:</a>
<a id="`swap⊕-ok" href="linear.Surface.Surface.html#%60swap%E2%8A%95-ok" class="Function">`swap⊕-ok</a> <a id="7386" class="Symbol">:</a> <a id="7388" class="Symbol">∀</a> <a id="7390" href="linear.Surface.Surface.html#7390" class="Bound">σ</a> <a id="7392" href="linear.Surface.Surface.html#7392" class="Bound">τ</a> <a id="7394" class="Symbol">→</a> <a id="7396" href="Data.Maybe.Base.html#Is-just" class="Function">Is-just</a> <a id="7404" class="Symbol">(</a><a id="7405" href="linear.Surface.Surface.html#linear" class="Function">linear</a> <a id="7412" class="Symbol">((</a><a id="7414" href="linear.Surface.Surface.html#7390" class="Bound">σ</a> <a id="7416" href="linear.Type.html#Type._%E2%8A%95_" class="InductiveConstructor Operator">⊕</a> <a id="7418" href="linear.Surface.Surface.html#7392" class="Bound">τ</a><a id="7419" class="Symbol">)</a> <a id="7421" href="linear.Type.html#Type._%E2%94%80o_" class="InductiveConstructor Operator">─o</a> <a id="7424" class="Symbol">(</a><a id="7425" href="linear.Surface.Surface.html#7392" class="Bound">τ</a> <a id="7427" href="linear.Type.html#Type._%E2%8A%95_" class="InductiveConstructor Operator">⊕</a> <a id="7429" href="linear.Surface.Surface.html#7390" class="Bound">σ</a><a id="7430" class="Symbol">))</a> <a id="7433" class="Symbol">(</a><a id="7434" href="linear.Surface.Surface.html#%60swap%E2%8A%95" class="Function">`swap⊕</a> <a id="7441" href="linear.Surface.Surface.html#7390" class="Bound">σ</a> <a id="7443" href="linear.Surface.Surface.html#7392" class="Bound">τ</a><a id="7444" class="Symbol">))</a>
<a id="7447" href="linear.Surface.Surface.html#%60swap%E2%8A%95-ok" class="Function">`swap⊕-ok</a> <a id="7457" href="linear.Surface.Surface.html#7457" class="Bound">σ</a> <a id="7459" href="linear.Surface.Surface.html#7459" class="Bound">τ</a> <a id="7461" class="Keyword">rewrite</a> <a id="7469" href="linear.Type.html#eq-diag" class="Function">eq-diag</a> <a id="7477" href="linear.Surface.Surface.html#7459" class="Bound">τ</a> <a id="7479" class="Symbol">|</a> <a id="7481" href="linear.Type.html#eq-diag" class="Function">eq-diag</a> <a id="7489" href="linear.Surface.Surface.html#7457" class="Bound">σ</a> <a id="7491" class="Symbol">|</a> <a id="7493" href="linear.Type.html#eq-diag" class="Function">eq-diag</a> <a id="7501" class="Symbol">(</a><a id="7502" href="linear.Surface.Surface.html#7459" class="Bound">τ</a> <a id="7504" href="linear.Type.html#Type._%E2%8A%95_" class="InductiveConstructor Operator">⊕</a> <a id="7506" href="linear.Surface.Surface.html#7457" class="Bound">σ</a><a id="7507" class="Symbol">)</a> <a id="7509" class="Symbol">=</a> <a id="7511" href="Data.Maybe.Base.html#Any.just" class="InductiveConstructor">just</a> <a id="7516" class="Symbol">_</a>

<a id="7519" class="Comment">-- example:</a>
<a id="`swap&amp;-ok" href="linear.Surface.Surface.html#%60swap%26-ok" class="Function">`swap&amp;-ok</a> <a id="7541" class="Symbol">:</a> <a id="7543" class="Symbol">∀</a> <a id="7545" href="linear.Surface.Surface.html#7545" class="Bound">σ</a> <a id="7547" href="linear.Surface.Surface.html#7547" class="Bound">τ</a> <a id="7549" class="Symbol">→</a> <a id="7551" href="Data.Maybe.Base.html#Is-just" class="Function">Is-just</a> <a id="7559" class="Symbol">(</a><a id="7560" href="linear.Surface.Surface.html#linear" class="Function">linear</a> <a id="7567" class="Symbol">((</a><a id="7569" href="linear.Surface.Surface.html#7545" class="Bound">σ</a> <a id="7571" href="linear.Type.html#Type._%26_" class="InductiveConstructor Operator">&amp;</a> <a id="7573" href="linear.Surface.Surface.html#7547" class="Bound">τ</a><a id="7574" class="Symbol">)</a> <a id="7576" href="linear.Type.html#Type._%E2%94%80o_" class="InductiveConstructor Operator">─o</a> <a id="7579" class="Symbol">(</a><a id="7580" href="linear.Surface.Surface.html#7547" class="Bound">τ</a> <a id="7582" href="linear.Type.html#Type._%26_" class="InductiveConstructor Operator">&amp;</a> <a id="7584" href="linear.Surface.Surface.html#7545" class="Bound">σ</a><a id="7585" class="Symbol">))</a> <a id="7588" href="linear.Surface.Surface.html#%60swap%26" class="Function">`swap&amp;</a><a id="7594" class="Symbol">)</a>
<a id="7596" href="linear.Surface.Surface.html#%60swap%26-ok" class="Function">`swap&amp;-ok</a> <a id="7606" href="linear.Surface.Surface.html#7606" class="Bound">σ</a> <a id="7608" href="linear.Surface.Surface.html#7608" class="Bound">τ</a> <a id="7610" class="Keyword">rewrite</a> <a id="7618" href="linear.Type.html#eq-diag" class="Function">eq-diag</a> <a id="7626" href="linear.Surface.Surface.html#7608" class="Bound">τ</a> <a id="7628" class="Symbol">|</a> <a id="7630" href="linear.Type.html#eq-diag" class="Function">eq-diag</a> <a id="7638" href="linear.Surface.Surface.html#7606" class="Bound">σ</a> <a id="7640" class="Symbol">=</a> <a id="7642" href="Data.Maybe.Base.html#Any.just" class="InductiveConstructor">just</a> <a id="7647" class="Symbol">_</a>
</pre></body></html>